package services;

import java.sql.Connection;
import java.sql.SQLException;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import tools.ConnectionTools;
import tools.FriendsTools;
import tools.MessageTools;
import tools.UserTools;
import bd.Database;

public class GetFollowers_s {

	public static JSONObject getFollowers() throws SQLException, JSONException {
		Connection c = Database.getMySQLConnection();
		
		String[] users = UserTools.getAllUsers(c);

		JSONArray ret = new JSONArray();
		
		for (int i=0;i<users.length;i++){
			String[] idFriends = FriendsTools.getFriends(users[i], c);
			ret.put(idFriends[i]);
		}
		
		return new JSONObject().put("followers", ret);
	}

}
